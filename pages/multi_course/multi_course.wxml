 <van-search
  value="{{ value }}"  
  placeholder="请输入房间ID"
  use-action-slot
  bind:change="onSearchValueChange"  
  bind:cancel="onSearchCancel"
  bind:focus="onSearchFocus"
>
  <view slot="action" bind:tap="onSearchCancel">{{searchFocus?"取消":""}}</view>
</van-search>
<!-- 当搜索框获得焦点时，显示 -->
<view wx:if="{{searchFocus}}" class="searchResultContainer">
  <view wx:if="{{searchList.length==0}}" class="searchResultTitle">搜索房间id或房间名</view>
  <van-cell-group wx:else title="搜索结果">
    <block wx:for="{{searchList}}" wx:key="index" wx:for-item="room">
      <van-cell center title="{{room.name}}" label="房间ID：{{room.id}}" value="{{room.count}}人" >
        <view slot="right-icon" style="padding-left:5vw;">
        <!-- 加入 -->
          
          <van-icon wx:if="{{room.joinStatus}}" name="success" data-id="{{room.id}}"class="custom-icon" />          
          <van-icon wx:else name="plus" data-id="{{room.id}}" bindtap="onTapJoinRoomBtn" class="custom-icon" />          
        </view>
      </van-cell>
    </block>
  </van-cell-group>
</view>

<scroll-view wx:else>
  <van-cell-group>
    <van-field
      value="{{ createRoomName }}"
      bind:change="onChangeCreateRoomName"
      center
      clearable
      label="创建房间"
      placeholder="请输入房间名"
      use-button-slot
    >
      <van-button round slot="button" size="small" type="primary" bindtap="createRoom">
        创建
      </van-button>
    </van-field>
  </van-cell-group>

  <van-cell-group  title="创建的房间">
    <block wx:for="{{myCreateList}}" wx:key="index" wx:for-item="room">
      <van-cell        
        center 
        use-label-slot
        link-type="navigateTo"
        url="detail/detail">
        <view slot="title">
          <view class="van-cell-text">{{room.name}}</view>
          <image class="img-button" src="https://cdns.qdu.life/icons/eatwhat/icon_finger.png"/>              
        </view>
        <van-button round slot="right-icon" catchtap="onTapDismissBtn" data-id="{{room.id}}" size="small" type="danger">
          解散
        </van-button>
        <view slot="label">        
          <van-tag color="#98999b" text-color="#98999b" type="success" plain>ID:{{room.id}}</van-tag>
          <view>{{room.count}}人</view>          
        </view>
      </van-cell>
    </block>    
    <van-cell
      title-style="color:lightgrey"
      wx:if="{{myCreateList.length==0}}"
      title="未创建房间"
      center>
      </van-cell>
  </van-cell-group>

  <van-cell-group title="加入的房间">
    <block wx:for="{{myJoinList}}" wx:key="index" wx:for-item="room">
      <van-cell
        title="{{room.name}}"
        center 
        label="{{room.count}}">
        <van-button   catchtap="onTapExitBtn" data-id="{{room.id}}"  round slot="right-icon" size="small" type="danger">
          退出
        </van-button>
      </van-cell>
    </block>
    <van-cell
      title-style="color:lightgrey"
      wx:if="{{myJoinList.length==0}}"
      title="未加入房间"
      center>
      </van-cell>
  </van-cell-group>
  <van-cell-group title="等待审批的房间" wx:if="{{myJoinLoadingList.length!=0}}">
    <block wx:for="{{myJoinLoadingList}}" wx:key="index" wx:for-item="room">
      <van-cell
        title="{{room.name}}"
        center 
        label="{{room.count}}">
        <van-button 
          catchtap="onTapExitBtn" 
          data-id="{{room.id}}"  
          round 
          slot="right-icon" 
          size="small" 
          type="danger">
          退出
        </van-button>
      </van-cell>
    </block>
    <van-cell
      title-style="color:lightgrey"
      title="未加入房间"
      center>
      </van-cell>
  </van-cell-group>
</scroll-view>
